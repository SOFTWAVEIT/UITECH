<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Java Script Promises</title>
</head>
<body>
    <nav id="header">
        <h2>Java Script | Promises | Basics</h2>
    </nav>
    <script>
        /*
        let downloadImage = ()=>{
            //java script code for downloading an image
            //let isDownloaded = true;
            let isDownloaded = false;
            if(isDownloaded){
                success('Downloaded');
            }
            else{
                failure('Not Downloaded')
            }
        }

        let success = (msg)=>{
            console.log('Image is '+msg)
        }

        let failure = (err) => {
            console.log('Image is '+err)
        }

        //-- function call for downloading image
        downloadImage();
        */
    </script>
    <script>
        /*
        let downloadImage = (resolve, reject)=>{
            //java script code for downloading an image
            //let isDownloaded = true;
            let isDownloaded = false;
            if(isDownloaded){
                resolve('Downloaded');
            }
            else{
                reject(new Error('Not Downloaded'))
            }
        }

        let success = (msg)=>{
            console.log('Image is '+msg)
        }

        let failure = (err) => {
            console.log(err.toString())
            console.log(err.message);
        }

        //-- function call for downloading image
        downloadImage(success, failure);        
        */
    </script>

    <script>
        /*
        let downloadImage = (resolve, reject)=>{
            //java script code for downloading an image
            //let isDownloaded = true;
            let isDownloaded = false;
            if(isDownloaded){
                resolve('Downloaded');
            }
            else{
                reject(new Error('Not Downloaded'))
            }
        }

        //-- function call for downloading image
        downloadImage((msg)=>{
            console.log('Image is '+msg)
        }, (err)=>{
            console.log(err.toString())
            console.log(err.message);            
        });                
        */
    </script>
    <script>
    let downloadImagePromise = new Promise(function(resolve,reject){
        //Java Script to download Image
        let isDownloaded = true
        if(isDownloaded)
          resolve({image:'logo.jpg',status:'downloaded'})
        else
          reject(new Error('Network Error'))  
    })
    </script>    
    <script>
        console.log(downloadImagePromise)

        downloadImagePromise.then((obj)=>{
            console.log("Success:: "+obj.image+' : '+obj.status)
        }).catch((err)=>{
            console.log(err.toString())
        })
    </script>
</body>
</html>