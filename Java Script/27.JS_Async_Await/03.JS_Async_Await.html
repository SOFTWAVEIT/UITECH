<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Async/Await in JS</title>
    <style>
        table{
            width:80%;
            margin:50px auto;
            border-collapse:collapse;
            text-align:center;
            font-size:18px;
        }
        td,th{
            border:1px solid black;
        }
        tr{
            height:40px;
        }
    </style>
</head>

<body>
    <nav>
        <h2>Java Script | ES 7 | Async & Await</h2>
    </nav>
    <button style="margin:20px 50px;border:none;padding:10px;width:250px;background:mediumaquamarine" onclick="getData()">Get Employees</button>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>FIRST NAME</th>
                <th>LAST NAME</th>
                <th>GENDER</th>
                <th>EMAIL</th>                
            </tr>
        </thead>
        <tbody id="table_body"></tbody>
    </table>
    <script>
        async function getData(){
            let response = await fetch('http://www.json-generator.com/api/json/get/bZqzyqWyGa?indent=2');
           
            let employees = await response.json(); 
            displayEmployees(employees);                       
        }
        

        let displayEmployees=(emps)=>{
            let data=''
            for(let emp of emps){
                data=`${data}<tr>
                  <td>${emp.id}</td>
                  <td>${emp.first_name}</td>
                  <td>${emp.last_name}</td>
                  <td>${emp.gender}</td>
                  <td>${emp.email}</td>
                  </tr>
                `
            }
            document.querySelector('#table_body').innerHTML=data;
        }
    </script>
</body>

</html>